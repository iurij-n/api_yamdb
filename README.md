# api_yamdb
#### Проект YaMDb
Проект YaMDb собирает отзывы пользователей на различные произведения.
Используется аутентификация с использованием JWT-токенов
#### Алгоритм регистрации пользователей
```
1. Пользователь отправляет POST-запрос на добавление нового пользователя с параметрами email и username на эндпоинт /api/v1/auth/signup/.
2. YaMDB отправляет письмо с кодом подтверждения (confirmation_code) на адрес email.
3. Пользователь отправляет POST-запрос с параметрами username и confirmation_code на эндпоинт /api/v1/auth/token/, в ответе на запрос ему приходит token (JWT-токен).
4. При желании пользователь отправляет PATCH-запрос на эндпоинт /api/v1/users/me/ и заполняет поля в своём профайле
```
#### Мanagement-команда, добавляющая данные в БД через Django ORM
```
python manage.py pull_bd
```

## ОСНОВНЫЕ РЕСУРСЫ
#### Ресурс AUTH: Регистрация пользователей и выдача токенов
```
Регистрация нового пользователя
POST api/v1/auth/signup/  Права доступа: Доступно без токена.
Получение JWT-токена
POST api/v1/auth/token/  Права доступа: Доступно без токена.
```
#### Ресурс USERS: Пользователи
```
Получение списка всех пользователей
GET api/v1/users/  Права доступа: Администратор
Добавление пользователя
POST api/v1/users/ Права доступа: Администратор
Получение пользователя по username
GET api/v1/users/{username}/  Права доступа: Администратор
Изменение данных пользователя по username
PATCH api/v1/users/{username}/ Права доступа: Администратор
Удаление пользователя по username
DELETE api/v1/users/{username}/ Права доступа: Администратор

Получение данных своей учетной записи
GET api/v1/users/me/ Права доступа: Любой авторизованный пользователь
Изменение данных своей учетной записи
PATCH api/v1/users/me/ Права доступа: Любой авторизованный пользователь
```
#### Ресурс TITLES: Произведения, к которым пишут отзывы (определённый фильм, книга или песенка).
```
Получение списка всех произведений
GET api/v1/titles/  Права доступа: Доступно без токена
category	фильтрует по полю slug категории
genre	фильтрует по полю slug жанра
name	фильтрует по названию произведения
year	фильтрует по году

Добавление произведения
POST api/v1/titles/ Права доступа: Администратор.
Получение информации о произведении
GET api/v1/titles/{titles_id}/  Права доступа: Доступно без токена
Частичное обновление информации о произведении
PATCH api/v1/titles/{titles_id}/  Права доступа: Администратор.
Удаление произведения
DELETE api/v1/titles/{titles_id}/  Права доступа: Администратор.
```
#### Ресурс CATEGORIES: Категории (типы) произведений
```
Получение списка всех категорий
GET api/v1/categories/  Права доступа: Доступно без токена
search Поиск по названию категории
Добавление новой категории
POST api/v1/categories/  Права доступа: Администратор.
Удаление категории
DELETE api/v1/categories/{slug}/  Права доступа: Администратор.
```
#### Ресурс GENRES: Категории жанров
```
Получение списка всех жанров
GET api/v1/genres/  Права доступа: Доступно без токена
search	Поиск по названию жанра   
Добавление жанра
POST hapi/v1/genres/  Права доступа: Администратор.
Удаление жанра
DELETE api/v1/genres/{slug}/  Права доступа: Администратор.
```
#### Ресурс REVIEWS: Отзывы
```
Получение списка всех отзывов
GET api/v1/titles/{title_id}/reviews/  Права доступа: Доступно без токена.
Добавление нового отзыва
POST api/v1/titles/{title_id}/reviews/ Права доступа: Аутентифицированные пользователи.
Полуение отзыва по id
GET api/v1/titles/{title_id}/reviews/{review_id}/  Права доступа: Доступно без токена.
Частичное обновление отзыва по id
PATCH api/v1/titles/{title_id}/reviews/{review_id}/  Права доступа: Автор отзыва, модератор или администратор.
Удаление отзыва по id
DELETE api/v1/titles/{title_id}/reviews/{review_id}/  Права доступа: Автор отзыва, модератор или администратор.
```
#### Ресурс COMMENTS: Комментарии к отзывам
```
Получение списка всех комментариев к отзыву
GET api/v1/titles/{title_id}/reviews/{review_id}/comments/  Права доступа: Доступно без токена.
Добавление комментария к отзыву
POST api/v1/titles/{title_id}/reviews/{review_id}/comments/ Права доступа: Аутентифицированные пользователи.
Получение комментария к отзыву
GET api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/  Права доступа: Доступно без токена.
Частичное обновление комментария к отзыву
PATCH api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/  Права доступа: Автор комментария, модератор или администратор.
Удаление комментария к отзыву
DELETE api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/  Права доступа: Автор комментария, модератор или администратор.
```
